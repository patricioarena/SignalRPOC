{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input, ViewChild } from '@angular/core';\n// import { StyleAdjusterService } from '../services/style-adjuster.service';\nlet ViewersCardComponent = class ViewersCardComponent {\n  ngOnInit() {}\n  // private styleAdjuster: StyleAdjusterService\n  constructor() {\n    this.hoveredViewer = null;\n    this.hideDelay = 700;\n    this.showDelay = 300;\n    this.visibleUserCount = 4; // Número máximo de usuarios visibles inicialmente\n    this.showAll = false; // Flag para mostrar todos los usuarios\n  }\n  ngAfterViewInit() {\n    if (this.viewerCardContainer) {\n      // this.styleAdjuster.adjustStyles(this.viewerCardContainer.nativeElement)\n    }\n  }\n  onMouseEnter(usuario, isTooltip = false) {\n    this.clearHideTimeout();\n    this.clearShowTimeout();\n    this.showTimeout = setTimeout(() => {\n      this.hoveredViewer = usuario;\n    }, this.showDelay);\n  }\n  onMouseLeave() {\n    this.clearShowTimeout();\n    this.scheduleHideTooltip();\n  }\n  scheduleHideTooltip() {\n    this.clearHideTimeout();\n    this.hideTimeout = setTimeout(() => {\n      this.hoveredViewer = null;\n    }, this.hideDelay);\n  }\n  clearHideTimeout() {\n    if (this.hideTimeout) {\n      clearTimeout(this.hideTimeout);\n      this.hideTimeout = null;\n    }\n  }\n  clearShowTimeout() {\n    if (this.showTimeout) {\n      clearTimeout(this.showTimeout);\n      this.showTimeout = null;\n    }\n  }\n  // Método para alternar la visibilidad de los usuarios\n  toggleUsers() {\n    this.showAll = !this.showAll;\n    this.visibleUserCount = this.showAll ? this.usuarios.length : 4;\n  }\n  // Obtener usuarios visibles en función del estado\n  get visibleUsers() {\n    return this.usuarios.slice(0, this.visibleUserCount);\n  }\n  // Determinar si se debe mostrar el icono de \"más\"\n  get showMoreIcon() {\n    return !this.showAll && this.usuarios.length > 4;\n  }\n};\n__decorate([ViewChild('viewerCardContainer', {\n  static: false\n})], ViewersCardComponent.prototype, \"viewerCardContainer\", void 0);\n__decorate([Input()], ViewersCardComponent.prototype, \"usuarios\", void 0);\nViewersCardComponent = __decorate([Component({\n  selector: 'app-viewers-card',\n  templateUrl: './viewers-card.component.html',\n  styleUrls: ['./viewers-card.component.scss']\n})], ViewersCardComponent);\nexport { ViewersCardComponent };","map":{"version":3,"names":["Component","Input","ViewChild","ViewersCardComponent","ngOnInit","constructor","hoveredViewer","hideDelay","showDelay","visibleUserCount","showAll","ngAfterViewInit","viewerCardContainer","onMouseEnter","usuario","isTooltip","clearHideTimeout","clearShowTimeout","showTimeout","setTimeout","onMouseLeave","scheduleHideTooltip","hideTimeout","clearTimeout","toggleUsers","usuarios","length","visibleUsers","slice","showMoreIcon","__decorate","static","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Ayelen\\Desktop\\SignalRPOC\\MockFrontend-1\\src\\app\\viewers-card\\viewers-card.component.ts"],"sourcesContent":["import { Component, Input, OnInit, AfterViewInit, ViewChild, ElementRef } from '@angular/core';\nimport { Usuario } from '../Usuario';\n// import { StyleAdjusterService } from '../services/style-adjuster.service';\n\n@Component({\n  selector: 'app-viewers-card',\n  templateUrl: './viewers-card.component.html',\n  styleUrls: ['./viewers-card.component.scss']\n})\nexport class ViewersCardComponent implements OnInit, AfterViewInit{\n  @ViewChild('viewerCardContainer', { static: false }) viewerCardContainer: ElementRef;\n\n  ngOnInit(): void {\n  }\n\n  @Input() usuarios : Usuario[];\n  hoveredViewer: Usuario | null = null;\n  private hideTimeout: any;\n  private showTimeout: any;\n  private readonly hideDelay = 700;\n  private readonly showDelay = 300;\n  private visibleUserCount = 4; // Número máximo de usuarios visibles inicialmente\n  private showAll = false; // Flag para mostrar todos los usuarios\n\n  // private styleAdjuster: StyleAdjusterService\n  constructor() {}\n\n  ngAfterViewInit(){\n    if(this.viewerCardContainer){\n      // this.styleAdjuster.adjustStyles(this.viewerCardContainer.nativeElement)\n    }\n  }\n\n  onMouseEnter(usuario: Usuario, isTooltip: boolean = false): void {\n    this.clearHideTimeout();\n    this.clearShowTimeout();\n    this.showTimeout = setTimeout(() => {\n      this.hoveredViewer = usuario;\n    }, this.showDelay);\n  }\n\n  onMouseLeave(): void {\n    this.clearShowTimeout();\n    this.scheduleHideTooltip();\n  }\n\n  private scheduleHideTooltip(): void {\n    this.clearHideTimeout();\n    this.hideTimeout = setTimeout(() => {\n      this.hoveredViewer = null;\n    }, this.hideDelay);\n  }\n\n  private clearHideTimeout(): void {\n    if (this.hideTimeout) {\n      clearTimeout(this.hideTimeout);\n      this.hideTimeout = null;\n    }\n  }\n\n    private clearShowTimeout(): void {\n    if (this.showTimeout) {\n      clearTimeout(this.showTimeout);\n      this.showTimeout = null;\n    }\n  }\n\n  // Método para alternar la visibilidad de los usuarios\n  toggleUsers() {\n    this.showAll = !this.showAll;\n    this.visibleUserCount = this.showAll ? this.usuarios.length : 4;\n  }\n\n  // Obtener usuarios visibles en función del estado\n  get visibleUsers() {\n    return this.usuarios.slice(0, this.visibleUserCount);\n  }\n\n  // Determinar si se debe mostrar el icono de \"más\"\n  get showMoreIcon() {\n    return !this.showAll && this.usuarios.length > 4;\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,KAAK,EAAyBC,SAAS,QAAoB,eAAe;AAE9F;AAOO,IAAMC,oBAAoB,GAA1B,MAAMA,oBAAoB;EAG/BC,QAAQA,CAAA,GACR;EAWA;EACAC,YAAA;IATA,KAAAC,aAAa,GAAmB,IAAI;IAGnB,KAAAC,SAAS,GAAG,GAAG;IACf,KAAAC,SAAS,GAAG,GAAG;IACxB,KAAAC,gBAAgB,GAAG,CAAC,CAAC,CAAC;IACtB,KAAAC,OAAO,GAAG,KAAK,CAAC,CAAC;EAGV;EAEfC,eAAeA,CAAA;IACb,IAAG,IAAI,CAACC,mBAAmB,EAAC;MAC1B;IAAA;EAEJ;EAEAC,YAAYA,CAACC,OAAgB,EAAEC,SAAA,GAAqB,KAAK;IACvD,IAAI,CAACC,gBAAgB,EAAE;IACvB,IAAI,CAACC,gBAAgB,EAAE;IACvB,IAAI,CAACC,WAAW,GAAGC,UAAU,CAAC,MAAK;MACjC,IAAI,CAACb,aAAa,GAAGQ,OAAO;IAC9B,CAAC,EAAE,IAAI,CAACN,SAAS,CAAC;EACpB;EAEAY,YAAYA,CAAA;IACV,IAAI,CAACH,gBAAgB,EAAE;IACvB,IAAI,CAACI,mBAAmB,EAAE;EAC5B;EAEQA,mBAAmBA,CAAA;IACzB,IAAI,CAACL,gBAAgB,EAAE;IACvB,IAAI,CAACM,WAAW,GAAGH,UAAU,CAAC,MAAK;MACjC,IAAI,CAACb,aAAa,GAAG,IAAI;IAC3B,CAAC,EAAE,IAAI,CAACC,SAAS,CAAC;EACpB;EAEQS,gBAAgBA,CAAA;IACtB,IAAI,IAAI,CAACM,WAAW,EAAE;MACpBC,YAAY,CAAC,IAAI,CAACD,WAAW,CAAC;MAC9B,IAAI,CAACA,WAAW,GAAG,IAAI;;EAE3B;EAEUL,gBAAgBA,CAAA;IACxB,IAAI,IAAI,CAACC,WAAW,EAAE;MACpBK,YAAY,CAAC,IAAI,CAACL,WAAW,CAAC;MAC9B,IAAI,CAACA,WAAW,GAAG,IAAI;;EAE3B;EAEA;EACAM,WAAWA,CAAA;IACT,IAAI,CAACd,OAAO,GAAG,CAAC,IAAI,CAACA,OAAO;IAC5B,IAAI,CAACD,gBAAgB,GAAG,IAAI,CAACC,OAAO,GAAG,IAAI,CAACe,QAAQ,CAACC,MAAM,GAAG,CAAC;EACjE;EAEA;EACA,IAAIC,YAAYA,CAAA;IACd,OAAO,IAAI,CAACF,QAAQ,CAACG,KAAK,CAAC,CAAC,EAAE,IAAI,CAACnB,gBAAgB,CAAC;EACtD;EAEA;EACA,IAAIoB,YAAYA,CAAA;IACd,OAAO,CAAC,IAAI,CAACnB,OAAO,IAAI,IAAI,CAACe,QAAQ,CAACC,MAAM,GAAG,CAAC;EAClD;CACD;AAxEsDI,UAAA,EAApD5B,SAAS,CAAC,qBAAqB,EAAE;EAAE6B,MAAM,EAAE;AAAK,CAAE,CAAC,C,gEAAiC;AAK5ED,UAAA,EAAR7B,KAAK,EAAE,C,qDAAsB;AANnBE,oBAAoB,GAAA2B,UAAA,EALhC9B,SAAS,CAAC;EACTgC,QAAQ,EAAE,kBAAkB;EAC5BC,WAAW,EAAE,+BAA+B;EAC5CC,SAAS,EAAE,CAAC,+BAA+B;CAC5C,CAAC,C,EACW/B,oBAAoB,CAyEhC;SAzEYA,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}