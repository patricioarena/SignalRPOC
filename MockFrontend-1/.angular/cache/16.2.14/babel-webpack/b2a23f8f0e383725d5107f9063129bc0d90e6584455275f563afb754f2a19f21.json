{"ast":null,"code":"import * as signalR from '@aspnet/signalr';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"./viewers-card/viewers-card.component\";\nfunction AppComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-viewers-card\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const usuario_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"nombreUsuario\", usuario_r1.nombreUsuario)(\"idUsuario\", usuario_r1.idUsuario)(\"email\", usuario_r1.email)(\"cargo\", usuario_r1.cargo)(\"imagenUsuario\", usuario_r1.imagenUsuario);\n  }\n}\nexport class AppComponent {\n  constructor() {\n    this.usuarios = [{\n      nombreUsuario: \"jdoe\",\n      idUsuario: 1,\n      email: \"jdoe@example.com\",\n      cargo: \"Desarrollador\",\n      imagenUsuario: \"imagen1.png\"\n    }, {\n      nombreUsuario: \"asmith\",\n      idUsuario: 2,\n      email: \"asmith@example.com\",\n      cargo: \"Diseñador\",\n      imagenUsuario: \"imagen2.png\"\n    }, {\n      nombreUsuario: \"mjohnson\",\n      idUsuario: 3,\n      email: \"mjohnson@example.com\",\n      cargo: \"Gerente\",\n      imagenUsuario: \"imagen3.png\"\n    }, {\n      nombreUsuario: \"krodriguez\",\n      idUsuario: 4,\n      email: \"krodriguez@example.com\",\n      cargo: \"Administrador\",\n      imagenUsuario: \"imagen4.png\"\n    }, {\n      nombreUsuario: \"fbrown\",\n      idUsuario: 5,\n      email: \"fbrown@example.com\",\n      cargo: \"Soporte Técnico\",\n      imagenUsuario: \"imagen5.png\"\n    }];\n    this.title = 'SignalRPOC';\n    this.connectionName = \"alice\";\n  }\n  ngOnInit() {\n    this.usuarios.forEach(usuario => {\n      console.log(usuario);\n    });\n    this.hubConnection = new signalR.HubConnectionBuilder().withUrl(`https://localhost:44385/SignalHub?connectionName=${this.connectionName}`).build();\n    this.hubConnection.start().then(() => {\n      console.log(\"connection started\");\n    }).catch(err => console.error(err));\n    this.hubConnection.onclose(() => {\n      // debugger;\n      setTimeout(() => {\n        // debugger;\n        this.hubConnection.start().then(() => {\n          // debugger;\n          console.log(\"connection started\");\n        }).catch(err => console.error(err));\n      }, 5000);\n    });\n    this.hubConnection.on(\"clientMethodName\", data => {\n      // debugger;\n      console.log(`clientMethodName: ${data}`);\n      this.showNotification();\n    });\n    this.hubConnection.on(\"WelcomeMethodName\", data => {\n      // debugger;\n      console.log(`WelcomeMethodName: ${data}`);\n      this.hubConnection.invoke(\"GetDataFromClient\", \"user id\", data).catch(err => console.error(err));\n    });\n  }\n  ngOnDestroy() {\n    this.hubConnection.off(\"askServerResponse\");\n  }\n  showNotification() {\n    console.log('showNotification');\n    var notification = new Notification(this.connectionName, {\n      body: 'You clicked on the button !',\n      icon: 'https://i.pinimg.com/originals/35/0e/dd/350edd537688ad50ea3c5615e02ba84e.jpg'\n    });\n    setTimeout(function () {\n      notification.close();\n    }, 5000);\n  }\n  static #_ = this.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[4, \"ngFor\", \"ngForOf\"], [3, \"nombreUsuario\", \"idUsuario\", \"email\", \"cargo\", \"imagenUsuario\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, AppComponent_div_0_Template, 2, 5, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngForOf\", ctx.usuarios);\n      }\n    },\n    dependencies: [i1.NgForOf, i2.ViewersCardComponent],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["signalR","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","usuario_r1","nombreUsuario","idUsuario","email","cargo","imagenUsuario","AppComponent","constructor","usuarios","title","connectionName","ngOnInit","forEach","usuario","console","log","hubConnection","HubConnectionBuilder","withUrl","build","start","then","catch","err","error","onclose","setTimeout","on","data","showNotification","invoke","ngOnDestroy","off","notification","Notification","body","icon","close","_","_2","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","ɵɵtemplate","AppComponent_div_0_Template"],"sources":["C:\\Users\\Ayelen\\Desktop\\SignalRPOC\\MockFrontend-1\\src\\app\\app.component.ts","C:\\Users\\Ayelen\\Desktop\\SignalRPOC\\MockFrontend-1\\src\\app\\app.component.html"],"sourcesContent":["import { HttpHeaders } from '@angular/common/http';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { HubConnection } from '@aspnet/signalr';\r\nimport * as signalR from '@aspnet/signalr';\r\n\r\ninterface Usuario{\r\n  nombreUsuario: string;\r\n  idUsuario: number;\r\n  email: string;\r\n  cargo: string;\r\n  imagenUsuario: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\n\r\nexport class AppComponent implements OnInit, OnDestroy {\r\n\r\n  usuarios: Usuario[] = [\r\n    { nombreUsuario: \"jdoe\", idUsuario: 1, email: \"jdoe@example.com\", cargo: \"Desarrollador\", imagenUsuario: \"imagen1.png\" },\r\n    { nombreUsuario: \"asmith\", idUsuario: 2, email: \"asmith@example.com\", cargo: \"Diseñador\", imagenUsuario: \"imagen2.png\" },\r\n    { nombreUsuario: \"mjohnson\", idUsuario: 3, email: \"mjohnson@example.com\", cargo: \"Gerente\", imagenUsuario: \"imagen3.png\" },\r\n    { nombreUsuario: \"krodriguez\", idUsuario: 4, email: \"krodriguez@example.com\", cargo: \"Administrador\", imagenUsuario: \"imagen4.png\" },\r\n    { nombreUsuario: \"fbrown\", idUsuario: 5, email: \"fbrown@example.com\", cargo: \"Soporte Técnico\", imagenUsuario: \"imagen5.png\" }\r\n  ];\r\n\r\n  title = 'SignalRPOC';\r\n  connectionName = \"alice\";\r\n\r\n  private hubConnection: HubConnection;\r\n\r\n  public ngOnInit() {\r\n\r\n    this.usuarios.forEach(usuario => {\r\n      console.log(usuario);\r\n    });\r\n\r\n    this.hubConnection = new signalR.HubConnectionBuilder()\r\n      .withUrl(`https://localhost:44385/SignalHub?connectionName=${this.connectionName}`)\r\n      .build();\r\n\r\n    this.hubConnection.start().then(() => {\r\n      console.log(\"connection started\");\r\n    }).catch(err => console.error(err));\r\n\r\n    this.hubConnection.onclose(() => {\r\n      // debugger;\r\n      setTimeout(() => {\r\n        // debugger;\r\n        this.hubConnection.start().then(() => {\r\n          // debugger;\r\n          console.log(\"connection started\");\r\n        }).catch(err => console.error(err));\r\n      }, 5000);\r\n    });\r\n\r\n    this.hubConnection.on(\"clientMethodName\", (data) => {\r\n      // debugger;\r\n      console.log(`clientMethodName: ${data}`);\r\n      this.showNotification();\r\n    });\r\n\r\n    this.hubConnection.on(\"WelcomeMethodName\", (data) => {\r\n      // debugger;\r\n      console.log(`WelcomeMethodName: ${data}`);\r\n      this.hubConnection.invoke(\"GetDataFromClient\", \"user id\", data).catch(err => console.error(err));\r\n    });\r\n\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.hubConnection.off(\"askServerResponse\");\r\n  }\r\n\r\n  showNotification() {\r\n      console.log('showNotification');\r\n      var notification = new Notification(this.connectionName, {\r\n        body : 'You clicked on the button !',\r\n        icon : 'https://i.pinimg.com/originals/35/0e/dd/350edd537688ad50ea3c5615e02ba84e.jpg'\r\n      });\r\n\r\n      setTimeout(function() { notification.close(); }, 5000);\r\n  }\r\n\r\n}\r\n","<div *ngFor=\"let usuario of usuarios\">\r\n  <app-viewers-card\r\n    [nombreUsuario]=\"usuario.nombreUsuario\"\r\n    [idUsuario]=\"usuario.idUsuario\"\r\n    [email]=\"usuario.email\"\r\n    [cargo]=\"usuario.cargo\"\r\n    [imagenUsuario]=\"usuario.imagenUsuario\">\r\n  </app-viewers-card>\r\n</div>\r\n"],"mappings":"AAGA,OAAO,KAAKA,OAAO,MAAM,iBAAiB;;;;;;ICH1CC,EAAA,CAAAC,cAAA,UAAsC;IACpCD,EAAA,CAAAE,SAAA,0BAMmB;IACrBF,EAAA,CAAAG,YAAA,EAAM;;;;IANFH,EAAA,CAAAI,SAAA,GAAuC;IAAvCJ,EAAA,CAAAK,UAAA,kBAAAC,UAAA,CAAAC,aAAA,CAAuC,cAAAD,UAAA,CAAAE,SAAA,WAAAF,UAAA,CAAAG,KAAA,WAAAH,UAAA,CAAAI,KAAA,mBAAAJ,UAAA,CAAAK,aAAA;;;ADiB3C,OAAM,MAAOC,YAAY;EANzBC,YAAA;IAQE,KAAAC,QAAQ,GAAc,CACpB;MAAEP,aAAa,EAAE,MAAM;MAAEC,SAAS,EAAE,CAAC;MAAEC,KAAK,EAAE,kBAAkB;MAAEC,KAAK,EAAE,eAAe;MAAEC,aAAa,EAAE;IAAa,CAAE,EACxH;MAAEJ,aAAa,EAAE,QAAQ;MAAEC,SAAS,EAAE,CAAC;MAAEC,KAAK,EAAE,oBAAoB;MAAEC,KAAK,EAAE,WAAW;MAAEC,aAAa,EAAE;IAAa,CAAE,EACxH;MAAEJ,aAAa,EAAE,UAAU;MAAEC,SAAS,EAAE,CAAC;MAAEC,KAAK,EAAE,sBAAsB;MAAEC,KAAK,EAAE,SAAS;MAAEC,aAAa,EAAE;IAAa,CAAE,EAC1H;MAAEJ,aAAa,EAAE,YAAY;MAAEC,SAAS,EAAE,CAAC;MAAEC,KAAK,EAAE,wBAAwB;MAAEC,KAAK,EAAE,eAAe;MAAEC,aAAa,EAAE;IAAa,CAAE,EACpI;MAAEJ,aAAa,EAAE,QAAQ;MAAEC,SAAS,EAAE,CAAC;MAAEC,KAAK,EAAE,oBAAoB;MAAEC,KAAK,EAAE,iBAAiB;MAAEC,aAAa,EAAE;IAAa,CAAE,CAC/H;IAED,KAAAI,KAAK,GAAG,YAAY;IACpB,KAAAC,cAAc,GAAG,OAAO;;EAIjBC,QAAQA,CAAA;IAEb,IAAI,CAACH,QAAQ,CAACI,OAAO,CAACC,OAAO,IAAG;MAC9BC,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC;IACtB,CAAC,CAAC;IAEF,IAAI,CAACG,aAAa,GAAG,IAAIvB,OAAO,CAACwB,oBAAoB,EAAE,CACpDC,OAAO,CAAC,oDAAoD,IAAI,CAACR,cAAc,EAAE,CAAC,CAClFS,KAAK,EAAE;IAEV,IAAI,CAACH,aAAa,CAACI,KAAK,EAAE,CAACC,IAAI,CAAC,MAAK;MACnCP,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;IACnC,CAAC,CAAC,CAACO,KAAK,CAACC,GAAG,IAAIT,OAAO,CAACU,KAAK,CAACD,GAAG,CAAC,CAAC;IAEnC,IAAI,CAACP,aAAa,CAACS,OAAO,CAAC,MAAK;MAC9B;MACAC,UAAU,CAAC,MAAK;QACd;QACA,IAAI,CAACV,aAAa,CAACI,KAAK,EAAE,CAACC,IAAI,CAAC,MAAK;UACnC;UACAP,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;QACnC,CAAC,CAAC,CAACO,KAAK,CAACC,GAAG,IAAIT,OAAO,CAACU,KAAK,CAACD,GAAG,CAAC,CAAC;MACrC,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,CAAC;IAEF,IAAI,CAACP,aAAa,CAACW,EAAE,CAAC,kBAAkB,EAAGC,IAAI,IAAI;MACjD;MACAd,OAAO,CAACC,GAAG,CAAC,qBAAqBa,IAAI,EAAE,CAAC;MACxC,IAAI,CAACC,gBAAgB,EAAE;IACzB,CAAC,CAAC;IAEF,IAAI,CAACb,aAAa,CAACW,EAAE,CAAC,mBAAmB,EAAGC,IAAI,IAAI;MAClD;MACAd,OAAO,CAACC,GAAG,CAAC,sBAAsBa,IAAI,EAAE,CAAC;MACzC,IAAI,CAACZ,aAAa,CAACc,MAAM,CAAC,mBAAmB,EAAE,SAAS,EAAEF,IAAI,CAAC,CAACN,KAAK,CAACC,GAAG,IAAIT,OAAO,CAACU,KAAK,CAACD,GAAG,CAAC,CAAC;IAClG,CAAC,CAAC;EAEJ;EAEAQ,WAAWA,CAAA;IACT,IAAI,CAACf,aAAa,CAACgB,GAAG,CAAC,mBAAmB,CAAC;EAC7C;EAEAH,gBAAgBA,CAAA;IACZf,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;IAC/B,IAAIkB,YAAY,GAAG,IAAIC,YAAY,CAAC,IAAI,CAACxB,cAAc,EAAE;MACvDyB,IAAI,EAAG,6BAA6B;MACpCC,IAAI,EAAG;KACR,CAAC;IAEFV,UAAU,CAAC;MAAaO,YAAY,CAACI,KAAK,EAAE;IAAE,CAAC,EAAE,IAAI,CAAC;EAC1D;EAAC,QAAAC,CAAA,G;qBAlEUhC,YAAY;EAAA;EAAA,QAAAiC,EAAA,G;UAAZjC,YAAY;IAAAkC,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,sBAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCnBzBpD,EAAA,CAAAsD,UAAA,IAAAC,2BAAA,iBAQM;;;QARmBvD,EAAA,CAAAK,UAAA,YAAAgD,GAAA,CAAAvC,QAAA,CAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}